<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wmoge: engine/code/render/gpu_buffer.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wmoge
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_996f45160da62e1a3d7f6046fad68f51.html">engine</a></li><li class="navelem"><a class="el" href="dir_0c10233b2546128f7e3a26815fccf431.html">code</a></li><li class="navelem"><a class="el" href="dir_32bc0d191115a34ba3b00b50e44f12d8.html">render</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">gpu_buffer.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="gpu__buffer_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**********************************************************************************/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* Wmoge game engine                                                              */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Available at github https://github.com/EgorOrachyov/wmoge                      */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/**********************************************************************************/</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/* MIT License                                                                    */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/*                                                                                */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* Copyright (c) 2023 Egor Orachyov                                               */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/*                                                                                */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* Permission is hereby granted, free of charge, to any person obtaining a copy   */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/* of this software and associated documentation files (the &quot;Software&quot;), to deal  */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* in the Software without restriction, including without limitation the rights   */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell      */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* copies of the Software, and to permit persons to whom the Software is          */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/* furnished to do so, subject to the following conditions:                       */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/*                                                                                */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* The above copyright notice and this permission notice shall be included in all */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* copies or substantial portions of the Software.                                */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/*                                                                                */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR     */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,       */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE    */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER         */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,  */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE  */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* SOFTWARE.                                                                      */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/**********************************************************************************/</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__utils_8hpp.html">core/string_utils.hpp</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gfx__buffers_8hpp.html">gfx/gfx_buffers.hpp</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gfx__cmd__list_8hpp.html">gfx/gfx_cmd_list.hpp</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gfx__driver_8hpp.html">gfx/gfx_driver.hpp</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="math__utils_8hpp.html">math/math_utils.hpp</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacewmoge.html">wmoge</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuHostData.html">   45</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuHostData.html">GpuHostData</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuHostData.html#ad2339db80a0bd9f61576d259cf6f8889">   46</a></span>&#160;        <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="structwmoge_1_1GpuHostData.html#ad2339db80a0bd9f61576d259cf6f8889">ENABLE</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuHostData.html#a3bf9bb07f20f9de73756f7d9e82e20c9">   48</a></span>&#160;        <a class="code" href="classwmoge_1_1array__view.html">array_view&lt;const std::uint8_t&gt;</a> <a class="code" href="structwmoge_1_1GpuHostData.html#a3bf9bb07f20f9de73756f7d9e82e20c9">to_buffer</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordflow">return</span> {<span class="keyword">static_cast&lt;</span>std::uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="structwmoge_1_1GpuHostData.html#ad91cab21a0fc2277d85ae73818a711e6">elements</a>.data()), <a class="code" href="structwmoge_1_1GpuHostData.html#ad91cab21a0fc2277d85ae73818a711e6">elements</a>.size() * <span class="keyword">sizeof</span>(<a class="code" href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>)};</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuHostData.html#ad91cab21a0fc2277d85ae73818a711e6">   52</a></span>&#160;        std::vector&lt;T&gt; <a class="code" href="structwmoge_1_1GpuHostData.html#ad91cab21a0fc2277d85ae73818a711e6">elements</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    };</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuHostDataEmpty.html">   56</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuHostDataEmpty.html">GpuHostDataEmpty</a> {</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuHostDataEmpty.html#ac6e0839c6cc046469635794205dc6578">   57</a></span>&#160;        <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="structwmoge_1_1GpuHostDataEmpty.html#ac6e0839c6cc046469635794205dc6578">ENABLE</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    };</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemVert.html">   61</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuMemVert.html">GpuMemVert</a> {</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemVert.html#af9fa281a3da523102e5acee9d0240384">   62</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GfxVertBuffer.html">BufferType</a> = <a class="code" href="classwmoge_1_1GfxVertBuffer.html">GfxVertBuffer</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemVert.html#a70402a32bcb28be37aba01ba1cfd16d2">   64</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structwmoge_1_1GpuMemVert.html#a70402a32bcb28be37aba01ba1cfd16d2">make</a>(<a class="code" href="classwmoge_1_1GfxDriver.html">GfxDriver</a>* driver, <span class="keywordtype">int</span> size, <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> mem_usage, <span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp; name) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <a class="code" href="structwmoge_1_1GpuMemVert.html#a150c520787c56d67a01b3c6d7729737d">buffer</a> = driver-&gt;<a class="code" href="classwmoge_1_1GfxDriver.html#aa4b36ac2fc817c8153c7f1e8fb1f7c4c">make_vert_buffer</a>(size, mem_usage, name);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemVert.html#ad6451197abc44c3299d400f2174acdd7">   67</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structwmoge_1_1GpuMemVert.html#ad6451197abc44c3299d400f2174acdd7">update</a>(<a class="code" href="classwmoge_1_1GfxCmdList.html">GfxCmdList</a>* cmd_list, <span class="keyword">const</span> <a class="code" href="classwmoge_1_1array__view.html">array_view&lt;const std::uint8_t&gt;</a>&amp; data) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            cmd_list-&gt;<a class="code" href="classwmoge_1_1GfxCmdList.html#ac3af0aa11031dfb08c70bea6b67ccc72">update_vert_buffer</a>(<a class="code" href="structwmoge_1_1GpuMemVert.html#a150c520787c56d67a01b3c6d7729737d">buffer</a>, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(data.<a class="code" href="classwmoge_1_1array__view.html#a396208c8cc063dc494b0dc87162f806f">size</a>()), data);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemVert.html#a150c520787c56d67a01b3c6d7729737d">   71</a></span>&#160;        <a class="code" href="classwmoge_1_1Ref.html">GfxVertBufferRef</a> <a class="code" href="structwmoge_1_1GpuMemVert.html#a150c520787c56d67a01b3c6d7729737d">buffer</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    };</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemIndex.html">   75</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuMemIndex.html">GpuMemIndex</a> {</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemIndex.html#a6f4be354d454e8e7f081c22cc4e83645">   76</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GfxIndexBuffer.html">BufferType</a> = <a class="code" href="classwmoge_1_1GfxIndexBuffer.html">GfxIndexBuffer</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemIndex.html#a29b8372839354ea66b17b80a2ed73b2b">   78</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structwmoge_1_1GpuMemIndex.html#a29b8372839354ea66b17b80a2ed73b2b">make</a>(<a class="code" href="classwmoge_1_1GfxDriver.html">GfxDriver</a>* driver, <span class="keywordtype">int</span> size, <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> mem_usage, <span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp; name) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="structwmoge_1_1GpuMemIndex.html#af9a8771ac6fd3e03c5ee0c1366f8e2a4">buffer</a> = driver-&gt;<a class="code" href="classwmoge_1_1GfxDriver.html#a3f7181c5311bab039c465cc00e6bf5d0">make_index_buffer</a>(size, mem_usage, name);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        }</div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemIndex.html#acf5d5758c1e018ce18e3e7b94f754f55">   81</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structwmoge_1_1GpuMemIndex.html#acf5d5758c1e018ce18e3e7b94f754f55">update</a>(<a class="code" href="classwmoge_1_1GfxCmdList.html">GfxCmdList</a>* cmd_list, <span class="keyword">const</span> <a class="code" href="classwmoge_1_1array__view.html">array_view&lt;const std::uint8_t&gt;</a>&amp; data) {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            cmd_list-&gt;<a class="code" href="classwmoge_1_1GfxCmdList.html#a4dfdcf2eaee1549f93aea3d3d0c98525">update_index_buffer</a>(<a class="code" href="structwmoge_1_1GpuMemIndex.html#af9a8771ac6fd3e03c5ee0c1366f8e2a4">buffer</a>, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(data.<a class="code" href="classwmoge_1_1array__view.html#a396208c8cc063dc494b0dc87162f806f">size</a>()), data);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemIndex.html#af9a8771ac6fd3e03c5ee0c1366f8e2a4">   85</a></span>&#160;        <a class="code" href="classwmoge_1_1Ref.html">GfxIndexBufferRef</a> <a class="code" href="structwmoge_1_1GpuMemIndex.html#af9a8771ac6fd3e03c5ee0c1366f8e2a4">buffer</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    };</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemStorage.html">   89</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuMemStorage.html">GpuMemStorage</a> {</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemStorage.html#aabce329bd333e6962c61b463578eb502">   90</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GfxStorageBuffer.html">BufferType</a> = <a class="code" href="classwmoge_1_1GfxStorageBuffer.html">GfxStorageBuffer</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemStorage.html#a32ddf22023ff1ca88e3f04d95bb6c22d">   92</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structwmoge_1_1GpuMemStorage.html#a32ddf22023ff1ca88e3f04d95bb6c22d">make</a>(<a class="code" href="classwmoge_1_1GfxDriver.html">GfxDriver</a>* driver, <span class="keywordtype">int</span> size, <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> mem_usage, <span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp; name) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <a class="code" href="structwmoge_1_1GpuMemStorage.html#a0eb31069bd53244e3872178135a47853">buffer</a> = driver-&gt;<a class="code" href="classwmoge_1_1GfxDriver.html#a23649ce63bc2121c4d02a4ecca6a4491">make_storage_buffer</a>(size, mem_usage, name);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemStorage.html#abb78fe1330bd1352c1049d2772cbbd22">   95</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="structwmoge_1_1GpuMemStorage.html#abb78fe1330bd1352c1049d2772cbbd22">update</a>(<a class="code" href="classwmoge_1_1GfxCmdList.html">GfxCmdList</a>* cmd_list, <span class="keyword">const</span> <a class="code" href="classwmoge_1_1array__view.html">array_view&lt;const std::uint8_t&gt;</a>&amp; data) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            cmd_list-&gt;<a class="code" href="classwmoge_1_1GfxCmdList.html#a75acf31326525e2957619d46edbda35f">update_storage_buffer</a>(<a class="code" href="structwmoge_1_1GpuMemStorage.html#a0eb31069bd53244e3872178135a47853">buffer</a>, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(data.<a class="code" href="classwmoge_1_1array__view.html#a396208c8cc063dc494b0dc87162f806f">size</a>()), data);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuMemStorage.html#a0eb31069bd53244e3872178135a47853">   99</a></span>&#160;        <a class="code" href="classwmoge_1_1Ref.html">GfxStorageBufferRef</a> <a class="code" href="structwmoge_1_1GpuMemStorage.html#a0eb31069bd53244e3872178135a47853">buffer</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    };</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostVert.html">  104</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuPolicyHostVert.html">GpuPolicyHostVert</a> {</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostVert.html#af0f2efa6d32743e76f6c269d334f91ee">  105</a></span>&#160;        <span class="keyword">static</span> constexpr <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> <a class="code" href="structwmoge_1_1GpuPolicyHostVert.html#af0f2efa6d32743e76f6c269d334f91ee">MEM_USAGE</a> = <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11ea15902bfe9365f33cd568996ffcae643b">GfxMemUsage::GpuLocal</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostVert.html#a71ae3a2e094b26204f3f3ac586e13837">  106</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="structwmoge_1_1GpuHostData.html">HostData</a>                         = <a class="code" href="structwmoge_1_1GpuHostData.html">GpuHostData&lt;T&gt;</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostVert.html#ac54a9fd9ecf32e65ad6d77571cc33ac9">  107</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="structwmoge_1_1GpuMemVert.html">MemStorage</a>                       = <a class="code" href="structwmoge_1_1GpuMemVert.html">GpuMemVert</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    };</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostIndex.html">  112</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuPolicyHostIndex.html">GpuPolicyHostIndex</a> {</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostIndex.html#ada5cdb0944509bdfee8e76beb7a1ef0d">  113</a></span>&#160;        <span class="keyword">static</span> constexpr <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> <a class="code" href="structwmoge_1_1GpuPolicyHostIndex.html#ada5cdb0944509bdfee8e76beb7a1ef0d">MEM_USAGE</a> = <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11ea15902bfe9365f33cd568996ffcae643b">GfxMemUsage::GpuLocal</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostIndex.html#a6a98153a5382f3414d89fe7cc11e4547">  114</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="structwmoge_1_1GpuHostData.html">HostData</a>                         = <a class="code" href="structwmoge_1_1GpuHostData.html">GpuHostData&lt;T&gt;</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostIndex.html#a1f2cbeb1c41a4ffdd2645bc26ef4de9c">  115</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="structwmoge_1_1GpuMemIndex.html">MemStorage</a>                       = <a class="code" href="structwmoge_1_1GpuMemIndex.html">GpuMemIndex</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    };</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostStorage.html">  120</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structwmoge_1_1GpuPolicyHostStorage.html">GpuPolicyHostStorage</a> {</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostStorage.html#a65b3d573d79cf666d882cac6c824ebef">  121</a></span>&#160;        <span class="keyword">static</span> constexpr <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> <a class="code" href="structwmoge_1_1GpuPolicyHostStorage.html#a65b3d573d79cf666d882cac6c824ebef">MEM_USAGE</a> = <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11ea15902bfe9365f33cd568996ffcae643b">GfxMemUsage::GpuLocal</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostStorage.html#abd1381fb71799c21a88e824f303ab39c">  122</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="structwmoge_1_1GpuHostData.html">HostData</a>                         = <a class="code" href="structwmoge_1_1GpuHostData.html">GpuHostData&lt;T&gt;</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structwmoge_1_1GpuPolicyHostStorage.html#a07428e3b3f007147dc0f24aa49b0edc1">  123</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="structwmoge_1_1GpuMemStorage.html">MemStorage</a>                       = <a class="code" href="structwmoge_1_1GpuMemStorage.html">GpuMemStorage</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    };</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html">  128</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a> {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#aa3ff2be340206c544f00b99998c3326f">  130</a></span>&#160;        <span class="keyword">static</span> constexpr <a class="code" href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">GfxMemUsage</a> <a class="code" href="classwmoge_1_1GpuBuffer.html#aa3ff2be340206c544f00b99998c3326f">MEM_USAGE</a> = Policy::MEM_USAGE;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a1bfdbf03c07c536e60de9b7f989bddbf">  131</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#a1bfdbf03c07c536e60de9b7f989bddbf">HostData</a>                         = <span class="keyword">typename</span> Policy::HostData;</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ad5d06ddf8ee224758c1186c43e2fe103">  132</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ad5d06ddf8ee224758c1186c43e2fe103">MemStorage</a>                       = <span class="keyword">typename</span> Policy::MemStorage;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#acf9418a49fb30770a2f94012565d4c15">  133</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#acf9418a49fb30770a2f94012565d4c15">BufferType</a>                       = <span class="keyword">typename</span> MemStorage::BufferType;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a69dea432fbf95764db50569c9a880920">  135</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#a69dea432fbf95764db50569c9a880920">GpuBuffer</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp; <a class="code" href="classwmoge_1_1GpuBuffer.html#af635b756c091096d3212f87269b35ded">name</a>) : m_name(<a class="code" href="classwmoge_1_1GpuBuffer.html#af635b756c091096d3212f87269b35ded">name</a>) {}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#aac96bfa378de53ca63be4e2966799009">  137</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#aac96bfa378de53ca63be4e2966799009">GpuBuffer</a>()  = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a8974da3bb683102f1c6f5a9eb9401039">  138</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#a8974da3bb683102f1c6f5a9eb9401039">~GpuBuffer</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ac0480f66dedd62e9f1c7caf34119a4df">  140</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#ac0480f66dedd62e9f1c7caf34119a4df">GpuBuffer</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a>&amp;)            = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ac0a130a6e14658ea03034f5dbbee77bc">  141</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a>&amp; <a class="code" href="classwmoge_1_1GpuBuffer.html#ac0a130a6e14658ea03034f5dbbee77bc">operator=</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a8807e532eb39fe7b56fcf29442cb1769">  143</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#a8807e532eb39fe7b56fcf29442cb1769">GpuBuffer</a>(<a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a>&amp;&amp;)            = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a94ab6b80c4a81200d136d7c2ca31a332">  144</a></span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a>&amp; <a class="code" href="classwmoge_1_1GpuBuffer.html#a94ab6b80c4a81200d136d7c2ca31a332">operator=</a>(<a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer</a>&amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ae5110e602d114fc64707bfa879adafd8">  146</a></span>&#160;        <a class="code" href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>&amp;       <a class="code" href="classwmoge_1_1GpuBuffer.html#ae5110e602d114fc64707bfa879adafd8">operator[]</a>(std::size_t index) { <span class="keywordflow">return</span> m_data.elements[index]; }</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a1aba62cd55a57b903a816e800bb39bd2">  147</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>&amp; <a class="code" href="classwmoge_1_1GpuBuffer.html#a1aba62cd55a57b903a816e800bb39bd2">operator[]</a>(std::size_t index)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_data.elements[index]; }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#acbaf09569de1461d06ef7618e8bf540d">  149</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#acbaf09569de1461d06ef7618e8bf540d">push_back</a>(<span class="keyword">const</span> T&amp; element);</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#afe20be0b9dfcb068554daca6b2f04790">  150</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#afe20be0b9dfcb068554daca6b2f04790">resize</a>(std::size_t <a class="code" href="classwmoge_1_1GpuBuffer.html#a8483d82a212f02e3b62b745e4c2f66e6">size</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ab2fa21e3e18d8e3144e192480edb813e">  151</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ab2fa21e3e18d8e3144e192480edb813e">clear</a>();</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a33df9797fa88f4c808a551300a208e39">  152</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#a33df9797fa88f4c808a551300a208e39">free</a>();</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ac5012b9a8514b4209dd32035c139e528">  153</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ac5012b9a8514b4209dd32035c139e528">set_name</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp; <a class="code" href="classwmoge_1_1GpuBuffer.html#af635b756c091096d3212f87269b35ded">name</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#adb7cb7a18996362366454b5fbc3d56b0">  155</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#adb7cb7a18996362366454b5fbc3d56b0">reserve</a>(<a class="code" href="classwmoge_1_1GfxDriver.html">GfxDriver</a>* driver);</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ae7553f838dc70e9182eb58311d44b27c">  156</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ae7553f838dc70e9182eb58311d44b27c">flush</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1Ref.html">GfxCmdListRef</a>&amp; cmd_list);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a7360589cd229e2da5a651561025477a2">  158</a></span>&#160;        [[nodiscard]] <span class="keyword">const</span> <a class="code" href="classwmoge_1_1Ref.html">Ref&lt;BufferType&gt;</a>&amp; <a class="code" href="classwmoge_1_1GpuBuffer.html#a7360589cd229e2da5a651561025477a2">get_buffer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_buffer.buffer; }</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a8483d82a212f02e3b62b745e4c2f66e6">  159</a></span>&#160;        [[nodiscard]] std::size_t            <a class="code" href="classwmoge_1_1GpuBuffer.html#a8483d82a212f02e3b62b745e4c2f66e6">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_data.elements.size(); }</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#add83ea306e3d33a45680796925fd88a5">  160</a></span>&#160;        [[nodiscard]] <span class="keywordtype">bool</span>                   <a class="code" href="classwmoge_1_1GpuBuffer.html#add83ea306e3d33a45680796925fd88a5">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_data.elements.empty(); }</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a69d3c2921c0b941157ca123683b26e4e">  161</a></span>&#160;        [[nodiscard]] <span class="keyword">const</span> <a class="code" href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>*               <a class="code" href="classwmoge_1_1GpuBuffer.html#a69d3c2921c0b941157ca123683b26e4e">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_data.elements.data(); }</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#af635b756c091096d3212f87269b35ded">  162</a></span>&#160;        [[nodiscard]] <span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp;           <a class="code" href="classwmoge_1_1GpuBuffer.html#af635b756c091096d3212f87269b35ded">name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_name; }</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a391f9061695b65a68e0eb3d50aaabc81">  163</a></span>&#160;        [[nodiscard]] std::size_t            <a class="code" href="classwmoge_1_1GpuBuffer.html#a391f9061695b65a68e0eb3d50aaabc81">buffer_capacity</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#a1bfdbf03c07c536e60de9b7f989bddbf">HostData</a>   m_data;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="classwmoge_1_1GpuBuffer.html#ad5d06ddf8ee224758c1186c43e2fe103">MemStorage</a> m_buffer;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="classwmoge_1_1Strid.html">Strid</a>      m_name;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    };</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="namespacewmoge.html#a50fb171ef4d8760880d7cda2323da46e">  172</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuVertBuffer</a> = <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer&lt;T, GpuPolicyHostVert&lt;T&gt;</a>&gt;;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="namespacewmoge.html#ab657b5e05347550564b5faf20f06e04e">  175</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuIndexBuffer</a> = <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer&lt;T, GpuPolicyHostIndex&lt;T&gt;</a>&gt;;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="namespacewmoge.html#ab47974407f129cc459aafa728dbef258">  178</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuStorageBuffer</a> = <a class="code" href="classwmoge_1_1GpuBuffer.html">GpuBuffer&lt;T, GpuPolicyHostStorage&lt;T&gt;</a>&gt;;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#acbaf09569de1461d06ef7618e8bf540d">  181</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#acbaf09569de1461d06ef7618e8bf540d">GpuBuffer&lt;T, Policy&gt;::push_back</a>(<span class="keyword">const</span> T&amp; element) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        m_data.elements.push_back(element);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#afe20be0b9dfcb068554daca6b2f04790">  186</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#afe20be0b9dfcb068554daca6b2f04790">GpuBuffer&lt;T, Policy&gt;::resize</a>(std::size_t size) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        m_data.elements.resize(size);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#adb7cb7a18996362366454b5fbc3d56b0">  191</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#adb7cb7a18996362366454b5fbc3d56b0">GpuBuffer&lt;T, Policy&gt;::reserve</a>(<a class="code" href="classwmoge_1_1GfxDriver.html">GfxDriver</a>* driver) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> (buffer_capacity() &gt;= size()) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">const</span> std::size_t new_capacity = <a class="code" href="classwmoge_1_1Math.html#a8130c20279af53dbc56c33b55fb11b43">Math::ge_pow2_val</a>(size());</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span>         new_size     = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code" href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>) * new_capacity);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>       buffer_name  = <a class="code" href="string__id_8hpp.html#ae4201b5e0e8006d8c79b2afb43e8c2ba">SIDDBG</a>(m_name.str() + <span class="stringliteral">&quot; cap=&quot;</span> + <a class="code" href="classwmoge_1_1StringUtils.html#a9f31e6f2b964a572fcf23c7fd3548d66">StringUtils::from_int</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(new_capacity)));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        m_buffer.make(driver, new_size, MEM_USAGE, buffer_name);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ae7553f838dc70e9182eb58311d44b27c">  203</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ae7553f838dc70e9182eb58311d44b27c">GpuBuffer&lt;T, Policy&gt;::flush</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1Ref.html">GfxCmdListRef</a>&amp; cmd_list) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (empty()) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        m_buffer.update(cmd_list, m_data.to_buffer());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ab2fa21e3e18d8e3144e192480edb813e">  211</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ab2fa21e3e18d8e3144e192480edb813e">GpuBuffer&lt;T, Policy&gt;::clear</a>() {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        m_data.elements.clear();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a33df9797fa88f4c808a551300a208e39">  216</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#a33df9797fa88f4c808a551300a208e39">GpuBuffer&lt;T, Policy&gt;::free</a>() {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        m_data.elements.clear();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        m_buffer.buffer.reset();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#ac5012b9a8514b4209dd32035c139e528">  222</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classwmoge_1_1GpuBuffer.html#ac5012b9a8514b4209dd32035c139e528">GpuBuffer&lt;T, Policy&gt;::set_name</a>(<span class="keyword">const</span> <a class="code" href="classwmoge_1_1Strid.html">Strid</a>&amp; name) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        m_name = name;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Policy&gt;</div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classwmoge_1_1GpuBuffer.html#a391f9061695b65a68e0eb3d50aaabc81">  227</a></span>&#160;    std::size_t <a class="code" href="classwmoge_1_1GpuBuffer.html#a391f9061695b65a68e0eb3d50aaabc81">GpuBuffer&lt;T, Policy&gt;::buffer_capacity</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">return</span> m_buffer.buffer ? m_buffer.buffer-&gt;size() / <span class="keyword">sizeof</span>(<a class="code" href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">T</a>) : 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}<span class="comment">// namespace wmoge</span></div>
<div class="ttc" id="aclasswmoge_1_1GfxCmdList_html"><div class="ttname"><a href="classwmoge_1_1GfxCmdList.html">wmoge::GfxCmdList</a></div><div class="ttdoc">List to record gfx commands for execution on device.</div><div class="ttdef"><b>Definition:</b> gfx_cmd_list.hpp:54</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxCmdList_html_a4dfdcf2eaee1549f93aea3d3d0c98525"><div class="ttname"><a href="classwmoge_1_1GfxCmdList.html#a4dfdcf2eaee1549f93aea3d3d0c98525">wmoge::GfxCmdList::update_index_buffer</a></div><div class="ttdeci">virtual void update_index_buffer(GfxIndexBuffer *buffer, int offset, int range, array_view&lt; const std::uint8_t &gt; data)=0</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxCmdList_html_a75acf31326525e2957619d46edbda35f"><div class="ttname"><a href="classwmoge_1_1GfxCmdList.html#a75acf31326525e2957619d46edbda35f">wmoge::GfxCmdList::update_storage_buffer</a></div><div class="ttdeci">virtual void update_storage_buffer(GfxStorageBuffer *buffer, int offset, int range, array_view&lt; const std::uint8_t &gt; data)=0</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxCmdList_html_ac3af0aa11031dfb08c70bea6b67ccc72"><div class="ttname"><a href="classwmoge_1_1GfxCmdList.html#ac3af0aa11031dfb08c70bea6b67ccc72">wmoge::GfxCmdList::update_vert_buffer</a></div><div class="ttdeci">virtual void update_vert_buffer(GfxVertBuffer *buffer, int offset, int range, array_view&lt; const std::uint8_t &gt; data)=0</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxDriver_html"><div class="ttname"><a href="classwmoge_1_1GfxDriver.html">wmoge::GfxDriver</a></div><div class="ttdoc">Gfx driver interface.</div><div class="ttdef"><b>Definition:</b> gfx_driver.hpp:62</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxDriver_html_a23649ce63bc2121c4d02a4ecca6a4491"><div class="ttname"><a href="classwmoge_1_1GfxDriver.html#a23649ce63bc2121c4d02a4ecca6a4491">wmoge::GfxDriver::make_storage_buffer</a></div><div class="ttdeci">virtual Ref&lt; GfxStorageBuffer &gt; make_storage_buffer(int size, GfxMemUsage usage, const Strid &amp;name=Strid())=0</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxDriver_html_a3f7181c5311bab039c465cc00e6bf5d0"><div class="ttname"><a href="classwmoge_1_1GfxDriver.html#a3f7181c5311bab039c465cc00e6bf5d0">wmoge::GfxDriver::make_index_buffer</a></div><div class="ttdeci">virtual Ref&lt; GfxIndexBuffer &gt; make_index_buffer(int size, GfxMemUsage usage, const Strid &amp;name=Strid())=0</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxDriver_html_aa4b36ac2fc817c8153c7f1e8fb1f7c4c"><div class="ttname"><a href="classwmoge_1_1GfxDriver.html#aa4b36ac2fc817c8153c7f1e8fb1f7c4c">wmoge::GfxDriver::make_vert_buffer</a></div><div class="ttdeci">virtual Ref&lt; GfxVertBuffer &gt; make_vert_buffer(int size, GfxMemUsage usage, const Strid &amp;name=Strid())=0</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxIndexBuffer_html"><div class="ttname"><a href="classwmoge_1_1GfxIndexBuffer.html">wmoge::GfxIndexBuffer</a></div><div class="ttdoc">Gfx index buffer.</div><div class="ttdef"><b>Definition:</b> gfx_buffers.hpp:83</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxStorageBuffer_html"><div class="ttname"><a href="classwmoge_1_1GfxStorageBuffer.html">wmoge::GfxStorageBuffer</a></div><div class="ttdoc">Gfx storage buffer.</div><div class="ttdef"><b>Definition:</b> gfx_buffers.hpp:105</div></div>
<div class="ttc" id="aclasswmoge_1_1GfxVertBuffer_html"><div class="ttname"><a href="classwmoge_1_1GfxVertBuffer.html">wmoge::GfxVertBuffer</a></div><div class="ttdoc">Gfx vertex buffer.</div><div class="ttdef"><b>Definition:</b> gfx_buffers.hpp:72</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html">wmoge::GpuBuffer</a></div><div class="ttdoc">General purpose typed gpu buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:128</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a1aba62cd55a57b903a816e800bb39bd2"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a1aba62cd55a57b903a816e800bb39bd2">wmoge::GpuBuffer::operator[]</a></div><div class="ttdeci">const T &amp; operator[](std::size_t index) const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:147</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a1bfdbf03c07c536e60de9b7f989bddbf"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a1bfdbf03c07c536e60de9b7f989bddbf">wmoge::GpuBuffer::HostData</a></div><div class="ttdeci">typename Policy::HostData HostData</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:131</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a33df9797fa88f4c808a551300a208e39"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a33df9797fa88f4c808a551300a208e39">wmoge::GpuBuffer::free</a></div><div class="ttdeci">void free()</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:216</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a391f9061695b65a68e0eb3d50aaabc81"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a391f9061695b65a68e0eb3d50aaabc81">wmoge::GpuBuffer::buffer_capacity</a></div><div class="ttdeci">std::size_t buffer_capacity() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:227</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a69d3c2921c0b941157ca123683b26e4e"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a69d3c2921c0b941157ca123683b26e4e">wmoge::GpuBuffer::data</a></div><div class="ttdeci">const T * data() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:161</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a69dea432fbf95764db50569c9a880920"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a69dea432fbf95764db50569c9a880920">wmoge::GpuBuffer::GpuBuffer</a></div><div class="ttdeci">GpuBuffer(const Strid &amp;name)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:135</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a7360589cd229e2da5a651561025477a2"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a7360589cd229e2da5a651561025477a2">wmoge::GpuBuffer::get_buffer</a></div><div class="ttdeci">const Ref&lt; BufferType &gt; &amp; get_buffer() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:158</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a8483d82a212f02e3b62b745e4c2f66e6"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a8483d82a212f02e3b62b745e4c2f66e6">wmoge::GpuBuffer::size</a></div><div class="ttdeci">std::size_t size() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:159</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a8807e532eb39fe7b56fcf29442cb1769"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a8807e532eb39fe7b56fcf29442cb1769">wmoge::GpuBuffer::GpuBuffer</a></div><div class="ttdeci">GpuBuffer(GpuBuffer &amp;&amp;)=delete</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a8974da3bb683102f1c6f5a9eb9401039"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a8974da3bb683102f1c6f5a9eb9401039">wmoge::GpuBuffer::~GpuBuffer</a></div><div class="ttdeci">~GpuBuffer()=default</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_a94ab6b80c4a81200d136d7c2ca31a332"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#a94ab6b80c4a81200d136d7c2ca31a332">wmoge::GpuBuffer::operator=</a></div><div class="ttdeci">GpuBuffer &amp; operator=(GpuBuffer &amp;&amp;)=delete</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_aa3ff2be340206c544f00b99998c3326f"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#aa3ff2be340206c544f00b99998c3326f">wmoge::GpuBuffer::MEM_USAGE</a></div><div class="ttdeci">static constexpr GfxMemUsage MEM_USAGE</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:130</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_aac96bfa378de53ca63be4e2966799009"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#aac96bfa378de53ca63be4e2966799009">wmoge::GpuBuffer::GpuBuffer</a></div><div class="ttdeci">GpuBuffer()=default</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ab2fa21e3e18d8e3144e192480edb813e"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ab2fa21e3e18d8e3144e192480edb813e">wmoge::GpuBuffer::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:211</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ac0480f66dedd62e9f1c7caf34119a4df"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ac0480f66dedd62e9f1c7caf34119a4df">wmoge::GpuBuffer::GpuBuffer</a></div><div class="ttdeci">GpuBuffer(const GpuBuffer &amp;)=delete</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ac0a130a6e14658ea03034f5dbbee77bc"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ac0a130a6e14658ea03034f5dbbee77bc">wmoge::GpuBuffer::operator=</a></div><div class="ttdeci">GpuBuffer &amp; operator=(const GpuBuffer &amp;)=delete</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ac5012b9a8514b4209dd32035c139e528"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ac5012b9a8514b4209dd32035c139e528">wmoge::GpuBuffer::set_name</a></div><div class="ttdeci">void set_name(const Strid &amp;name)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:222</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_acbaf09569de1461d06ef7618e8bf540d"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#acbaf09569de1461d06ef7618e8bf540d">wmoge::GpuBuffer::push_back</a></div><div class="ttdeci">void push_back(const T &amp;element)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:181</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_acf9418a49fb30770a2f94012565d4c15"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#acf9418a49fb30770a2f94012565d4c15">wmoge::GpuBuffer::BufferType</a></div><div class="ttdeci">typename MemStorage::BufferType BufferType</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:133</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ad5d06ddf8ee224758c1186c43e2fe103"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ad5d06ddf8ee224758c1186c43e2fe103">wmoge::GpuBuffer::MemStorage</a></div><div class="ttdeci">typename Policy::MemStorage MemStorage</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:132</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_adb7cb7a18996362366454b5fbc3d56b0"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#adb7cb7a18996362366454b5fbc3d56b0">wmoge::GpuBuffer::reserve</a></div><div class="ttdeci">void reserve(GfxDriver *driver)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:191</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_add83ea306e3d33a45680796925fd88a5"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#add83ea306e3d33a45680796925fd88a5">wmoge::GpuBuffer::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:160</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ae5110e602d114fc64707bfa879adafd8"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ae5110e602d114fc64707bfa879adafd8">wmoge::GpuBuffer::operator[]</a></div><div class="ttdeci">T &amp; operator[](std::size_t index)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:146</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_ae7553f838dc70e9182eb58311d44b27c"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#ae7553f838dc70e9182eb58311d44b27c">wmoge::GpuBuffer::flush</a></div><div class="ttdeci">void flush(const GfxCmdListRef &amp;cmd_list)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:203</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_af635b756c091096d3212f87269b35ded"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#af635b756c091096d3212f87269b35ded">wmoge::GpuBuffer::name</a></div><div class="ttdeci">const Strid &amp; name() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:162</div></div>
<div class="ttc" id="aclasswmoge_1_1GpuBuffer_html_afe20be0b9dfcb068554daca6b2f04790"><div class="ttname"><a href="classwmoge_1_1GpuBuffer.html#afe20be0b9dfcb068554daca6b2f04790">wmoge::GpuBuffer::resize</a></div><div class="ttdeci">void resize(std::size_t size)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:186</div></div>
<div class="ttc" id="aclasswmoge_1_1Math_html_a8130c20279af53dbc56c33b55fb11b43"><div class="ttname"><a href="classwmoge_1_1Math.html#a8130c20279af53dbc56c33b55fb11b43">wmoge::Math::ge_pow2_val</a></div><div class="ttdeci">static std::size_t ge_pow2_val(std::size_t x)</div><div class="ttdef"><b>Definition:</b> math_utils.hpp:72</div></div>
<div class="ttc" id="aclasswmoge_1_1Ref_html"><div class="ttname"><a href="classwmoge_1_1Ref.html">wmoge::Ref&lt; GfxVertBuffer &gt;</a></div></div>
<div class="ttc" id="aclasswmoge_1_1Strid_html"><div class="ttname"><a href="classwmoge_1_1Strid.html">wmoge::Strid</a></div><div class="ttdoc">Interned globally-stored string based ids for fast lookups.</div><div class="ttdef"><b>Definition:</b> string_id.hpp:49</div></div>
<div class="ttc" id="aclasswmoge_1_1StringUtils_html_a9f31e6f2b964a572fcf23c7fd3548d66"><div class="ttname"><a href="classwmoge_1_1StringUtils.html#a9f31e6f2b964a572fcf23c7fd3548d66">wmoge::StringUtils::from_int</a></div><div class="ttdeci">static std::string from_int(int value)</div><div class="ttdef"><b>Definition:</b> string_utils.cpp:54</div></div>
<div class="ttc" id="aclasswmoge_1_1array__view_html"><div class="ttname"><a href="classwmoge_1_1array__view.html">wmoge::array_view&lt; const std::uint8_t &gt;</a></div></div>
<div class="ttc" id="aclasswmoge_1_1array__view_html_a396208c8cc063dc494b0dc87162f806f"><div class="ttname"><a href="classwmoge_1_1array__view.html#a396208c8cc063dc494b0dc87162f806f">wmoge::array_view::size</a></div><div class="ttdeci">std::size_t size() const</div><div class="ttdef"><b>Definition:</b> array_view.hpp:68</div></div>
<div class="ttc" id="agfx__buffers_8hpp_html"><div class="ttname"><a href="gfx__buffers_8hpp.html">gfx_buffers.hpp</a></div></div>
<div class="ttc" id="agfx__cmd__list_8hpp_html"><div class="ttname"><a href="gfx__cmd__list_8hpp.html">gfx_cmd_list.hpp</a></div></div>
<div class="ttc" id="agfx__driver_8hpp_html"><div class="ttname"><a href="gfx__driver_8hpp.html">gfx_driver.hpp</a></div></div>
<div class="ttc" id="amath__utils_8hpp_html"><div class="ttname"><a href="math__utils_8hpp.html">math_utils.hpp</a></div></div>
<div class="ttc" id="anamespacewmoge_html"><div class="ttname"><a href="namespacewmoge.html">wmoge</a></div><div class="ttdef"><b>Definition:</b> _rtti.cpp:35</div></div>
<div class="ttc" id="anamespacewmoge_html_a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3"><div class="ttname"><a href="namespacewmoge.html#a80dc64ab4e6ab5588636e0ea70632886ab9ece18c950afbfa6b0fdbfa4ff731d3">wmoge::InputKeyboardKey::T</a></div><div class="ttdeci">@ T</div></div>
<div class="ttc" id="anamespacewmoge_html_a9e9f2605a7b2960584dfe67c9618a11e"><div class="ttname"><a href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11e">wmoge::GfxMemUsage</a></div><div class="ttdeci">GfxMemUsage</div><div class="ttdoc">Gfx memory usage.</div><div class="ttdef"><b>Definition:</b> gfx_defs.hpp:149</div></div>
<div class="ttc" id="anamespacewmoge_html_a9e9f2605a7b2960584dfe67c9618a11ea15902bfe9365f33cd568996ffcae643b"><div class="ttname"><a href="namespacewmoge.html#a9e9f2605a7b2960584dfe67c9618a11ea15902bfe9365f33cd568996ffcae643b">wmoge::GfxMemUsage::GpuLocal</a></div><div class="ttdeci">@ GpuLocal</div></div>
<div class="ttc" id="astring__id_8hpp_html_ae4201b5e0e8006d8c79b2afb43e8c2ba"><div class="ttname"><a href="string__id_8hpp.html#ae4201b5e0e8006d8c79b2afb43e8c2ba">SIDDBG</a></div><div class="ttdeci">#define SIDDBG(id)</div><div class="ttdef"><b>Definition:</b> string_id.hpp:79</div></div>
<div class="ttc" id="astring__utils_8hpp_html"><div class="ttname"><a href="string__utils_8hpp.html">string_utils.hpp</a></div></div>
<div class="ttc" id="astructwmoge_1_1GpuHostDataEmpty_html"><div class="ttname"><a href="structwmoge_1_1GpuHostDataEmpty.html">wmoge::GpuHostDataEmpty</a></div><div class="ttdoc">Policy with no CPU data.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:56</div></div>
<div class="ttc" id="astructwmoge_1_1GpuHostDataEmpty_html_ac6e0839c6cc046469635794205dc6578"><div class="ttname"><a href="structwmoge_1_1GpuHostDataEmpty.html#ac6e0839c6cc046469635794205dc6578">wmoge::GpuHostDataEmpty::ENABLE</a></div><div class="ttdeci">static constexpr bool ENABLE</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:57</div></div>
<div class="ttc" id="astructwmoge_1_1GpuHostData_html"><div class="ttname"><a href="structwmoge_1_1GpuHostData.html">wmoge::GpuHostData</a></div><div class="ttdoc">Policy for data duplicated on CPU side.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:45</div></div>
<div class="ttc" id="astructwmoge_1_1GpuHostData_html_a3bf9bb07f20f9de73756f7d9e82e20c9"><div class="ttname"><a href="structwmoge_1_1GpuHostData.html#a3bf9bb07f20f9de73756f7d9e82e20c9">wmoge::GpuHostData::to_buffer</a></div><div class="ttdeci">array_view&lt; const std::uint8_t &gt; to_buffer() const</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:48</div></div>
<div class="ttc" id="astructwmoge_1_1GpuHostData_html_ad2339db80a0bd9f61576d259cf6f8889"><div class="ttname"><a href="structwmoge_1_1GpuHostData.html#ad2339db80a0bd9f61576d259cf6f8889">wmoge::GpuHostData::ENABLE</a></div><div class="ttdeci">static constexpr bool ENABLE</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:46</div></div>
<div class="ttc" id="astructwmoge_1_1GpuHostData_html_ad91cab21a0fc2277d85ae73818a711e6"><div class="ttname"><a href="structwmoge_1_1GpuHostData.html#ad91cab21a0fc2277d85ae73818a711e6">wmoge::GpuHostData::elements</a></div><div class="ttdeci">std::vector&lt; T &gt; elements</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:52</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemIndex_html"><div class="ttname"><a href="structwmoge_1_1GpuMemIndex.html">wmoge::GpuMemIndex</a></div><div class="ttdoc">Policy to allocate index buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:75</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemIndex_html_a29b8372839354ea66b17b80a2ed73b2b"><div class="ttname"><a href="structwmoge_1_1GpuMemIndex.html#a29b8372839354ea66b17b80a2ed73b2b">wmoge::GpuMemIndex::make</a></div><div class="ttdeci">void make(GfxDriver *driver, int size, GfxMemUsage mem_usage, const Strid &amp;name)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:78</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemIndex_html_acf5d5758c1e018ce18e3e7b94f754f55"><div class="ttname"><a href="structwmoge_1_1GpuMemIndex.html#acf5d5758c1e018ce18e3e7b94f754f55">wmoge::GpuMemIndex::update</a></div><div class="ttdeci">void update(GfxCmdList *cmd_list, const array_view&lt; const std::uint8_t &gt; &amp;data)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:81</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemIndex_html_af9a8771ac6fd3e03c5ee0c1366f8e2a4"><div class="ttname"><a href="structwmoge_1_1GpuMemIndex.html#af9a8771ac6fd3e03c5ee0c1366f8e2a4">wmoge::GpuMemIndex::buffer</a></div><div class="ttdeci">GfxIndexBufferRef buffer</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:85</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemStorage_html"><div class="ttname"><a href="structwmoge_1_1GpuMemStorage.html">wmoge::GpuMemStorage</a></div><div class="ttdoc">Policy to allocate storage buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:89</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemStorage_html_a0eb31069bd53244e3872178135a47853"><div class="ttname"><a href="structwmoge_1_1GpuMemStorage.html#a0eb31069bd53244e3872178135a47853">wmoge::GpuMemStorage::buffer</a></div><div class="ttdeci">GfxStorageBufferRef buffer</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:99</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemStorage_html_a32ddf22023ff1ca88e3f04d95bb6c22d"><div class="ttname"><a href="structwmoge_1_1GpuMemStorage.html#a32ddf22023ff1ca88e3f04d95bb6c22d">wmoge::GpuMemStorage::make</a></div><div class="ttdeci">void make(GfxDriver *driver, int size, GfxMemUsage mem_usage, const Strid &amp;name)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:92</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemStorage_html_abb78fe1330bd1352c1049d2772cbbd22"><div class="ttname"><a href="structwmoge_1_1GpuMemStorage.html#abb78fe1330bd1352c1049d2772cbbd22">wmoge::GpuMemStorage::update</a></div><div class="ttdeci">void update(GfxCmdList *cmd_list, const array_view&lt; const std::uint8_t &gt; &amp;data)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:95</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemVert_html"><div class="ttname"><a href="structwmoge_1_1GpuMemVert.html">wmoge::GpuMemVert</a></div><div class="ttdoc">Policy to allocate vertex buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:61</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemVert_html_a150c520787c56d67a01b3c6d7729737d"><div class="ttname"><a href="structwmoge_1_1GpuMemVert.html#a150c520787c56d67a01b3c6d7729737d">wmoge::GpuMemVert::buffer</a></div><div class="ttdeci">GfxVertBufferRef buffer</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:71</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemVert_html_a70402a32bcb28be37aba01ba1cfd16d2"><div class="ttname"><a href="structwmoge_1_1GpuMemVert.html#a70402a32bcb28be37aba01ba1cfd16d2">wmoge::GpuMemVert::make</a></div><div class="ttdeci">void make(GfxDriver *driver, int size, GfxMemUsage mem_usage, const Strid &amp;name)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:64</div></div>
<div class="ttc" id="astructwmoge_1_1GpuMemVert_html_ad6451197abc44c3299d400f2174acdd7"><div class="ttname"><a href="structwmoge_1_1GpuMemVert.html#ad6451197abc44c3299d400f2174acdd7">wmoge::GpuMemVert::update</a></div><div class="ttdeci">void update(GfxCmdList *cmd_list, const array_view&lt; const std::uint8_t &gt; &amp;data)</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:67</div></div>
<div class="ttc" id="astructwmoge_1_1GpuPolicyHostIndex_html"><div class="ttname"><a href="structwmoge_1_1GpuPolicyHostIndex.html">wmoge::GpuPolicyHostIndex</a></div><div class="ttdoc">Policy for host-cached index buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:112</div></div>
<div class="ttc" id="astructwmoge_1_1GpuPolicyHostIndex_html_ada5cdb0944509bdfee8e76beb7a1ef0d"><div class="ttname"><a href="structwmoge_1_1GpuPolicyHostIndex.html#ada5cdb0944509bdfee8e76beb7a1ef0d">wmoge::GpuPolicyHostIndex::MEM_USAGE</a></div><div class="ttdeci">static constexpr GfxMemUsage MEM_USAGE</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:113</div></div>
<div class="ttc" id="astructwmoge_1_1GpuPolicyHostStorage_html"><div class="ttname"><a href="structwmoge_1_1GpuPolicyHostStorage.html">wmoge::GpuPolicyHostStorage</a></div><div class="ttdoc">Policy for host-cached storage buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:120</div></div>
<div class="ttc" id="astructwmoge_1_1GpuPolicyHostStorage_html_a65b3d573d79cf666d882cac6c824ebef"><div class="ttname"><a href="structwmoge_1_1GpuPolicyHostStorage.html#a65b3d573d79cf666d882cac6c824ebef">wmoge::GpuPolicyHostStorage::MEM_USAGE</a></div><div class="ttdeci">static constexpr GfxMemUsage MEM_USAGE</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:121</div></div>
<div class="ttc" id="astructwmoge_1_1GpuPolicyHostVert_html"><div class="ttname"><a href="structwmoge_1_1GpuPolicyHostVert.html">wmoge::GpuPolicyHostVert</a></div><div class="ttdoc">Policy for host-cached vertex buffer.</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:104</div></div>
<div class="ttc" id="astructwmoge_1_1GpuPolicyHostVert_html_af0f2efa6d32743e76f6c269d334f91ee"><div class="ttname"><a href="structwmoge_1_1GpuPolicyHostVert.html#af0f2efa6d32743e76f6c269d334f91ee">wmoge::GpuPolicyHostVert::MEM_USAGE</a></div><div class="ttdeci">static constexpr GfxMemUsage MEM_USAGE</div><div class="ttdef"><b>Definition:</b> gpu_buffer.hpp:105</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
